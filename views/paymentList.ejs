<div class="container my-1">
  <div class="row">
    <div class="col-md-9 mx-auto">
      <h3>Payment List</h3>
    </div>
  </div>
  <div class="row">
    <div class="col-md-9 mx-auto">
      <% if (messages) { %>
      <div class="alert alert-dismissible alert-success fade show mb-3">
        <button type="button" class="btn-close" data-mdb-toggle="animation" data-mdb-animation="slide-right" data-mdb-animation-start="onLoad" data-bs-dismiss="alert"></button>
        <strong>Congrats!</strong> <%= messages %>
      </div>
      <% } %> <% if (alert) { %>

      <div class="alert alert-dismissible alert-warning fade show mb-3">
        <button type="button" class="btn-close" data-mdb-toggle="animation" data-mdb-animation="slide-right" data-mdb-animation-start="onLoad" data-bs-dismiss="alert"></button>
        <strong>Oh no!</strong> <%= alert %>
      </div>
      <% } %>
    </div>
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-8">
      <form action="/payment/download" method="post" class="row g-3 float-end">
        <div class="mb-1 col-md"><p class="m-0">from</p></div>
        <div class="mb-1 col-md">
          <input class="form-control" type="datetime-local" name="archiveFrom" id="archiveFrom" />
        </div>
        <div class="mb-1 col-md"><p class="m-0">to</p></div>
        <div class="mb-1 col-md">
          <input class="form-control" type="datetime-local" name="archiveTo" id="archiveTo" />
        </div>
        <div class="mb-1 col-md"><button type="submit" class="btn btn-info">Download</button></div>
      </form>
    </div>
  </div>
</div>
<div class="container-fluid my-1">
  <div class="row">
    <div class="col-md mx-auto">
      <table class="table" style="font-size: small">
        <thead>
          <tr class="table-warning">
            <th scope="col">Served By</th>
            <th scope="col">Type</th>
            <th scope="col">Invoice</th>
            <th scope="col">Method</th>
            <th scope="col">Barcode</th>
            <th scope="col">Customer Name</th>
            <th scope="col">Customer Id</th>
            <th scope="col">Orders</th>
            <th scope="col">Payment(IDR)</th>
            <th scope="col">Time</th>
            <th scope="col">Act</th>
          </tr>
        </thead>
        <tbody>
          <% data.forEach((element,i) => { %> <% if (i % 2 === 0) { %>
          <tr class="table-info">
            <th scope="row"><%= element.served_by %></th>
            <td><%= element.action %></td>
            <td><%= element.invoice_number %></td>
            <td><%= element.payment_method %></td>
            <td><%= element.barcode %></td>
            <td><%= element.customer_name %></td>
            <td><%= element.customer_id %></td>
            <td>
              <table class="table border-dark">
                <thead>
                  <tr class="table-secondary">
                    <th scope="col">Name</th>
                    <th scope="col">Variant</th>
                    <th scope="col">Amount</th>
                    <th scope="col">Discount</th>
                  </tr>
                </thead>
                <tbody>
                  <% element.menu_names.forEach((menuName,i) => { %>
                  <tr>
                    <th scope="row"><%= menuName %></th>
                    <td><%= element.menu_kinds[i] %></td>
                    <td><%= element.menu_amount[i] %></td>
                    <% if(element.menu_discounts) { %> <% if(element.menu_discounts[i]) { %>

                    <td><%= element.menu_discount_percents[i] %><span class="ms-1">%</span></td>

                    <% } else { %>

                    <td>No</td>

                    <% } %> <% } else { %>

                    <td></td>

                    <% } %>
                  </tr>

                  <% }) %>
                </tbody>
              </table>
            </td>
            <td><%= Intl.NumberFormat('en-US').format(element.payment) %></td>
            <td><%= element.created_at.toLocaleString() %></td>
            <td>
              <a class="confirm-button" href="/payment/<%= element.id %>/delete" role="button" title="delete" data-confirm="Are you sure to delete this item?">
                <svg width="25px" height="25px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" id="Filled_Line" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <path d="M28,10H4V8c0-0.552,0.448-1,1-1h22c0.552,0,1,0.448,1,1V10z" fill="#F9ED69" id="XMLID_884_" />
                  <path d="M8,7H5C4.448,7,4,7.448,4,8v2h3V8C7,7.448,7.448,7,8,7z" fill="#BBB24F" id="XMLID_394_" />
                  <path d="M27,7h-3c0.552,0,1,0.448,1,1v2h3V8C28,7.448,27.552,7,27,7z" fill="#FBF4A5" id="XMLID_395_" />
                  <path d="M25,10H7v17c0,1.105,0.895,2,2,2h14c1.105,0,2-0.895,2-2V10z" fill="#F08A5D" id="XMLID_883_" />
                  <path
                    d="M18.687,24.344c-0.534,0-1.036-0.208-1.414-0.586l-1.586-1.586l-1.586,1.586  c-0.378,0.378-0.88,0.586-1.414,0.586c-0.534,0-1.036-0.208-1.414-0.586s-0.586-0.88-0.586-1.414s0.208-1.036,0.586-1.414  l1.586-1.586l-1.586-1.586c-0.378-0.378-0.586-0.88-0.586-1.414s0.208-1.036,0.586-1.414s0.88-0.586,1.414-0.586  c0.534,0,1.036,0.208,1.414,0.586l1.586,1.586l1.586-1.586c0.378-0.378,0.88-0.586,1.414-0.586c0.534,0,1.036,0.208,1.414,0.586  s0.586,0.88,0.586,1.414s-0.208,1.036-0.586,1.414l-1.586,1.586l1.586,1.586c0.378,0.378,0.586,0.88,0.586,1.414  s-0.208,1.036-0.586,1.414S19.222,24.344,18.687,24.344z"
                    fill="#B46846"
                    id="XMLID_396_"
                  />
                  <path
                    d="M19,24c-0.534,0-1.036-0.208-1.414-0.586L16,21.828l-1.586,1.586  C14.036,23.792,13.534,24,13,24s-1.036-0.208-1.414-0.586S11,22.534,11,22s0.208-1.036,0.586-1.414L13.172,19l-1.586-1.586  C11.208,17.036,11,16.534,11,16s0.208-1.036,0.586-1.414S12.466,14,13,14s1.036,0.208,1.414,0.586L16,16.172l1.586-1.586  C17.964,14.208,18.466,14,19,14s1.036,0.208,1.414,0.586S21,15.466,21,16s-0.208,1.036-0.586,1.414L18.828,19l1.586,1.586  C20.792,20.964,21,21.466,21,22s-0.208,1.036-0.586,1.414S19.534,24,19,24z"
                    fill="#FFFFFF"
                    id="XMLID_397_"
                  />
                  <path d="M23,10v17c0,1.105-0.895,2-2,2h2c1.105,0,2-0.895,2-2V10H23z" fill="#F3A17D" id="XMLID_398_" />
                  <path d="M25,12v-2H7v17c0,1.105,0.895,2,2,2V12H25z" fill="#B46846" id="XMLID_399_" />
                  <path d="  M25,10H7v17c0,1.105,0.895,2,2,2h14c1.105,0,2-0.895,2-2V10z" fill="none" id="XMLID_882_" stroke="#200F60" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" />
                  <path d="  M20,7h-8V5c0-1.105,0.895-2,2-2h4c1.105,0,2,0.895,2,2V7z" fill="none" id="XMLID_881_" stroke="#200F60" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" />
                  <path d="  M28,10H4V8c0-0.552,0.448-1,1-1h22c0.552,0,1,0.448,1,1V10z" fill="none" id="XMLID_877_" stroke="#200F60" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" />
                  <path
                    d="M17.414,19l2.293-2.293c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0L16,17.586  l-2.293-2.293c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414L14.586,19l-2.293,2.293c-0.391,0.391-0.391,1.023,0,1.414  C12.488,22.902,12.744,23,13,23s0.512-0.098,0.707-0.293L16,20.414l2.293,2.293C18.488,22.902,18.744,23,19,23  s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L17.414,19z"
                    fill="#B83B5E"
                    id="XMLID_430_"
                  />
                  <path d="M19.393,15.638c0.328,0.328,0.378,0.813,0.178,1.204l0.136-0.136  c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0l-0.291,0.291C18.412,15.247,19.01,15.256,19.393,15.638z" fill="#8A2C47" id="XMLID_431_" />
                  <path d="M13.143,15.638l2.388,2.388l0.455-0.455l-2.279-2.279c-0.391-0.391-1.023-0.391-1.414,0  c-0.021,0.021-0.029,0.049-0.048,0.072C12.563,15.314,12.898,15.393,13.143,15.638z" fill="#8A2C47" id="XMLID_432_" />
                  <path d="M17.459,19.045L17.004,19.5l2.389,2.388c0.23,0.23,0.315,0.538,0.285,0.838  c0.009-0.008,0.02-0.011,0.029-0.019c0.391-0.391,0.391-1.023,0-1.414L17.459,19.045z" fill="#8A2C47" id="XMLID_433_" />
                </svg>
              </a>
            </td>
          </tr>
          <% } else { %>
          <tr class="table-light">
            <th scope="row"><%= element.served_by %></th>
            <td><%= element.action %></td>
            <td><%= element.invoice_number %></td>
            <td><%= element.payment_method %></td>
            <td><%= element.barcode %></td>
            <td><%= element.customer_name %></td>
            <td><%= element.customer_id %></td>
            <td>
              <table class="table border-dark">
                <thead>
                  <tr class="table-secondary">
                    <th scope="col">Name</th>
                    <th scope="col">Variant</th>
                    <th scope="col">Amount</th>
                    <th scope="col">Discount</th>
                  </tr>
                </thead>
                <tbody>
                  <% element.menu_names.forEach((menuName,i) => { %>
                  <tr>
                    <th scope="row"><%= menuName %></th>
                    <td><%= element.menu_kinds[i] %></td>
                    <td><%= element.menu_amount[i] %></td>
                    <% if(element.menu_discounts) { %> <% if(element.menu_discounts[i]) { %>

                    <td><%= element.menu_discount_percents[i] %><span class="ms-1">%</span></td>

                    <% } else { %>

                    <td>No</td>

                    <% } %> <% } else { %>

                    <td></td>

                    <% } %>
                  </tr>

                  <% }) %>
                </tbody>
              </table>
            </td>
            <td><%= Intl.NumberFormat('en-US').format(element.payment) %></td>
            <td><%= element.created_at.toLocaleString() %></td>
            <td>
              <a class="confirm-button" href="/payment/<%= element.id %>/delete" role="button" title="delete" data-confirm="Are you sure to delete this item?">
                <svg width="25px" height="25px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" id="Filled_Line" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <path d="M28,10H4V8c0-0.552,0.448-1,1-1h22c0.552,0,1,0.448,1,1V10z" fill="#F9ED69" id="XMLID_884_" />
                  <path d="M8,7H5C4.448,7,4,7.448,4,8v2h3V8C7,7.448,7.448,7,8,7z" fill="#BBB24F" id="XMLID_394_" />
                  <path d="M27,7h-3c0.552,0,1,0.448,1,1v2h3V8C28,7.448,27.552,7,27,7z" fill="#FBF4A5" id="XMLID_395_" />
                  <path d="M25,10H7v17c0,1.105,0.895,2,2,2h14c1.105,0,2-0.895,2-2V10z" fill="#F08A5D" id="XMLID_883_" />
                  <path
                    d="M18.687,24.344c-0.534,0-1.036-0.208-1.414-0.586l-1.586-1.586l-1.586,1.586  c-0.378,0.378-0.88,0.586-1.414,0.586c-0.534,0-1.036-0.208-1.414-0.586s-0.586-0.88-0.586-1.414s0.208-1.036,0.586-1.414  l1.586-1.586l-1.586-1.586c-0.378-0.378-0.586-0.88-0.586-1.414s0.208-1.036,0.586-1.414s0.88-0.586,1.414-0.586  c0.534,0,1.036,0.208,1.414,0.586l1.586,1.586l1.586-1.586c0.378-0.378,0.88-0.586,1.414-0.586c0.534,0,1.036,0.208,1.414,0.586  s0.586,0.88,0.586,1.414s-0.208,1.036-0.586,1.414l-1.586,1.586l1.586,1.586c0.378,0.378,0.586,0.88,0.586,1.414  s-0.208,1.036-0.586,1.414S19.222,24.344,18.687,24.344z"
                    fill="#B46846"
                    id="XMLID_396_"
                  />
                  <path
                    d="M19,24c-0.534,0-1.036-0.208-1.414-0.586L16,21.828l-1.586,1.586  C14.036,23.792,13.534,24,13,24s-1.036-0.208-1.414-0.586S11,22.534,11,22s0.208-1.036,0.586-1.414L13.172,19l-1.586-1.586  C11.208,17.036,11,16.534,11,16s0.208-1.036,0.586-1.414S12.466,14,13,14s1.036,0.208,1.414,0.586L16,16.172l1.586-1.586  C17.964,14.208,18.466,14,19,14s1.036,0.208,1.414,0.586S21,15.466,21,16s-0.208,1.036-0.586,1.414L18.828,19l1.586,1.586  C20.792,20.964,21,21.466,21,22s-0.208,1.036-0.586,1.414S19.534,24,19,24z"
                    fill="#FFFFFF"
                    id="XMLID_397_"
                  />
                  <path d="M23,10v17c0,1.105-0.895,2-2,2h2c1.105,0,2-0.895,2-2V10H23z" fill="#F3A17D" id="XMLID_398_" />
                  <path d="M25,12v-2H7v17c0,1.105,0.895,2,2,2V12H25z" fill="#B46846" id="XMLID_399_" />
                  <path d="  M25,10H7v17c0,1.105,0.895,2,2,2h14c1.105,0,2-0.895,2-2V10z" fill="none" id="XMLID_882_" stroke="#200F60" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" />
                  <path d="  M20,7h-8V5c0-1.105,0.895-2,2-2h4c1.105,0,2,0.895,2,2V7z" fill="none" id="XMLID_881_" stroke="#200F60" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" />
                  <path d="  M28,10H4V8c0-0.552,0.448-1,1-1h22c0.552,0,1,0.448,1,1V10z" fill="none" id="XMLID_877_" stroke="#200F60" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" />
                  <path
                    d="M17.414,19l2.293-2.293c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0L16,17.586  l-2.293-2.293c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414L14.586,19l-2.293,2.293c-0.391,0.391-0.391,1.023,0,1.414  C12.488,22.902,12.744,23,13,23s0.512-0.098,0.707-0.293L16,20.414l2.293,2.293C18.488,22.902,18.744,23,19,23  s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L17.414,19z"
                    fill="#B83B5E"
                    id="XMLID_430_"
                  />
                  <path d="M19.393,15.638c0.328,0.328,0.378,0.813,0.178,1.204l0.136-0.136  c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0l-0.291,0.291C18.412,15.247,19.01,15.256,19.393,15.638z" fill="#8A2C47" id="XMLID_431_" />
                  <path d="M13.143,15.638l2.388,2.388l0.455-0.455l-2.279-2.279c-0.391-0.391-1.023-0.391-1.414,0  c-0.021,0.021-0.029,0.049-0.048,0.072C12.563,15.314,12.898,15.393,13.143,15.638z" fill="#8A2C47" id="XMLID_432_" />
                  <path d="M17.459,19.045L17.004,19.5l2.389,2.388c0.23,0.23,0.315,0.538,0.285,0.838  c0.009-0.008,0.02-0.011,0.029-0.019c0.391-0.391,0.391-1.023,0-1.414L17.459,19.045z" fill="#8A2C47" id="XMLID_433_" />
                </svg>
              </a>
            </td>
          </tr>
          <% } %> <% }); %>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row my-3">
    <div class="col-md">
      <nav aria-label="...">
        <ul class="pagination justify-content-center">
          <% if (page === '1') { %>
          <li class="page-item disabled">
            <span class="page-link">Previous</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=<%= parseInt(page,10) - 1 %>">Previous</a>
          </li>
          <% } %> <% if (page === '1') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">1</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=1">1</a>
          </li>
          <% } %> <% if (page === '2') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">2</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=2">2</a>
          </li>
          <% } %> <% if (page === '3') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">3</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=3">3</a>
          </li>
          <% } %> <% if (page === '4') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">4</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=4">4</a>
          </li>
          <% } %> <% if (page === '5') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">5</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=5">5</a>
          </li>
          <% } %> <% if (page === '6') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">6</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=6">6</a>
          </li>
          <% } %> <% if (page === '7') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">7</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=7">7</a>
          </li>
          <% } %> <% if (page === '8') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">8</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=8">8</a>
          </li>
          <% } %> <% if (page === '9') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">9</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=9">9</a>
          </li>
          <% } %> <% if (page === '10') { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link">10</span>
          </li>
          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=10">10</a>
          </li>
          <% } %> <% if (page === '10') { %>
          <li class="page-item disabled">
            <span class="page-link">Next</span>
          </li>

          <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/payment/list?page=<%= parseInt(page,10) + 1 %>">Next</a>
          </li>
          <% } %>
        </ul>
      </nav>
    </div>
  </div>
  <div class="row my-5 multi-button">
    <div class="col-md-8 mx-auto text-center">
      <a class="button shadow" href="/advanced" role="button">Back</a>
    </div>
  </div>
</div>
